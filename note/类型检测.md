## 类型检测

## typeof

对于像数字, 布尔, 字符串, undefined 可以使用 `typeof` 检测, 返回值比较好区分

```js
console.log(
	typeof 1,
	typeof 'hello world',
	typeof true,
	typeof undefined
);
```
作为基础类型的还有一个值是 `null`, 它的 `typeof` 结果是 `object`, 无法通过单独使用 `typeof` 检测, 我们可以变通一下, 除了基本类型其余的都是引用类型, 引用类型转为 `Boolean` 类型都是 `true`, 所以可以使用下面的方法检测 `null`

```js
function isNull(a) {
	return !a && typeof a === 'object'; 	// 用这个方法可以判断是否是 null
}
```
## instanceof

`instanceof` 很强大, 可以检测的类型很多, 也比较全面, 是一种日常中比较常用的一种类型检测方式

```js
[] instanceof Array;					//true
(x => 1) instanceof Function;			//true
({}) instanceof Object;					//true
Object.create(null) instanceof Object;	//true
```

`instanceof` 不仅能检测 js 内置的引用类型, 还能检测自定义的构造器的实例

```js
let Car = function() {};

new Car() instanceof Car;	// true
```

## Object.prototype.toString
这个方法检测类型比较精细, 除了在检测自定义构造器的实例外, 几乎可以替代上面的两种方法

```js
console.log(
	Object.prototype.toString.call(1), 
	Object.prototype.toString.call(true),
	Object.prototype.toString.call(undefined),
	Object.prototype.toString.call(null),
	Object.prototype.toString.call({}),
	Object.prototype.toString.call(x => 1),
	Object.prototype.toString.call([]),
	Object.prototype.toString.call(/\s/),
	Object.prototype.toString.call(new Date()),
	Object.prototype.toString.call(window)
);
// [object Number] [object Boolean] [object Undefined] [object Null] [object Object] [object Function] [object Array] [object RegExp] [object Date] [object Window]

```

该方法虽然强大但也无法检测自定义的构造器的实例

## 小结

1. `typeof` 检测基本类型
2. `instanceof` 检测引用类型和自定义构造器的实例
3. `Object.prototype.toString` 即可检测基本类型也能检测引用类型, 甚至是 `window`, 但不能检测自定义构造器的实例

如果能够变通的综合使用上述几种检测方法, 那么能检测的类型将会大大增加;








